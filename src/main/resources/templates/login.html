<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8" />
    <title>Đăng nhập - Multi Identity Providers</title>
    <link rel="stylesheet" th:href="@{/css/main.css}" />
</head>
<body>
<header>
    <h1>Đăng nhập</h1>
    <nav><a th:href="@{/}">Trang chủ</a></nav>
</header>
<div class="container">
    <div class="panel">
        <h2>Chọn nhà cung cấp</h2>
        <p class="small">Bạn có thể sử dụng Auth0 (OIDC), Google hoặc GitHub. Chỉ những nhà cung cấp đã cấu hình hợp lệ mới hiển thị.</p>
        <div class="provider-list">
            <a th:if="${auth0Configured}" class="provider-card" th:href="@{/oauth2/authorization/auth0}">
                <span>Auth0</span><span class="badge">OIDC</span>
            </a>
            <a th:if="${googleConfigured}" class="provider-card" th:href="@{/oauth2/authorization/google}">
                <span>Google</span><span class="badge alt">OIDC</span>
            </a>
            <a th:if="${githubConfigured}" class="provider-card" th:href="@{/oauth2/authorization/github}">
                <span>GitHub</span><span class="badge gray">OAuth2</span>
            </a>
        </div>
        <div th:if="${!auth0Configured and !googleConfigured and !githubConfigured}" class="alert" style="margin-top:1rem;">
            Không có nhà cung cấp hợp lệ. Hãy đặt biến môi trường hoặc cập nhật application.yml.
        </div>
    </div>
    <div class="panel">
        <h2>Trạng thái cấu hình</h2>
        <ul class="inline">
            <li th:classappend="${auth0Configured}? 'badge':'badge danger'">Auth0</li>
            <li th:classappend="${googleConfigured}? 'badge alt':'badge danger'">Google</li>
            <li th:classappend="${githubConfigured}? 'badge gray':'badge danger'">GitHub</li>
        </ul>
        <p class="small">Nếu thay đổi biến môi trường, hãy khởi động lại ứng dụng.</p>
    </div>
</div>
<footer>
    <span>Demo Security UI</span>
    <span class="small">&copy; 2025</span>
</footer>
</body>
</html>
